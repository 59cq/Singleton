# Singleton
C++实现单例模式
## 单例模式
只能创建出一个对象(实例)的类
- 单列模式的引用场景
    - win的任务管理器
    - Linux/UNIX的日志管理器
    - 网站的连接计数器
    - 服务端程序的连接池,线程池,数据池
- 获取单一对象的方法
    1. 定义全局(C语言),但这种定义不受控制,防君子不防小人
    2. 专门写一个类,把类的构造函数设置私有,借助静态成员函数提供一个接口,以此来获取唯一的实例
- C++如何实现单例
    1. 禁止类的外部创建类对象:构造函数设置私有
    2. 类自己维护一个唯一的实例:使用静态指针指向
    3. 提供一个获取该实例的方法:静态成员函数获取静态指针
    - 饿汉模式
        
        将单例类的唯一实例对象定义为成员变量,当程序开始运行时,实例对象旧已经创建完成
        - 优点 加载进行时静态创建单例对象,线程安全
        - 缺点 无论使用与否,总要创建,浪费内存
    - 懒汉模式

        用静态成员指针来指向但例类的唯一实例对象,只有真正调用获取实例的静态接口时,实例对象才被创建
        - 优点 什么时候用什么时候建,节约内存
        - 缺点 在第一次调用获取实例对象接口时,真正创建,在多线程操作下有可能同时创建多个实例对象(可能性很低),存在线程不安全问题
